<ng-container *ngIf="vm$ | async as vm">
  <edu-tabbar-template *ngIf="vm$ | async as vm">
    <!-- Header -->
    <edu-landing-header
      slot="header"
      [toggleOn]="toggleOn"
      (searchTerm)="onSearch($event)"
      (toggledTo)="onEditorToggle($event)"
    ></edu-landing-header>

    <!-- Main Content -->
    <ng-container *ngIf="!toggleOn; then groupList; else taskList"></ng-container>

    <ng-template #groupList>
      <edu-group-list [houseFactors]="vm.filteredFactors" [cardActions]="vm.cardActions"></edu-group-list>
    </ng-template>

    <ng-template #taskList>
      <edu-task-list [tasks]="vm.tasks" [cardActions]="vm.cardActions"></edu-task-list>
    </ng-template>

    <!-- Footer -->
    <edu-landing-footer slot="footer"></edu-landing-footer>
  </edu-tabbar-template>
</ng-container>
